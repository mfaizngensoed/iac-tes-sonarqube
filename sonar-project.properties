# ============================================
# SonarCloud Configuration for Terraform IaC
# ============================================

# SECURITY NOTE: projectKey, organization, dan projectName
# akan diset melalui environment variables di GitHub Actions
# untuk menghindari hardcode credentials di repository

# Konfigurasi ini akan di-override oleh SONAR_PROJECT_KEY dan SONAR_ORGANIZATION
# dari GitHub Secrets (lihat workflow file)

# Source encoding
sonar.sourceEncoding=UTF-8

# Lokasi source code
# '.' berarti scan dari root directory
sonar.sources=.

# Pattern file yang akan di-scan
# Hanya scan file Terraform dan konfigurasi terkait
sonar.inclusions=**/*.tf,**/*.tfvars

# Exclude file/folder yang tidak perlu di-scan
# - .terraform: folder cache Terraform
# - terraform.tfstate*: state files (mungkin berisi sensitive data)
# - .git: folder git
# - examples: folder contoh (jika ada)
sonar.exclusions=**/.terraform/**,**/terraform.tfstate*,**/.git/**,**/examples/**,**/.github/**

# Test coverage settings (opsional untuk IaC)
# sonar.test.inclusions=**/*_test.tf

# Duplication detection
sonar.cpd.exclusions=**/*.tfvars

# Quality Gate
# Force analysis to wait for Quality Gate result
sonar.qualitygate.wait=true
sonar.qualitygate.timeout=300
